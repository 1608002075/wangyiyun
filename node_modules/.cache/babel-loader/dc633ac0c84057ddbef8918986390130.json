{"remainingRequest":"D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\node_modules\\babel-loader\\lib\\index.js!D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\src\\views\\Search.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\src\\views\\Search.vue","mtime":1648735140893},{"path":"D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\babel.config.js","mtime":1648735123034},{"path":"D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648777011105},{"path":"D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1648777016724},{"path":"D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648777011105},{"path":"D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1648777004982}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTRFNTBcdTRFNTBcdThCRkVcdTRFRjYvXHU5NzYyXHU4QkQ1XHU5ODk4L3Z1ZVx1NEVGRlx1N0Y1MVx1NjYxM1x1NEU5MVx1NzlGQlx1NTJBOFx1N0FFRlx1OTg3OVx1NzZFRS9cdTdGNTFcdTY2MTNcdTRFOTFcdTc5RkJcdTUyQThcdTdBRUZcdTk4NzlcdTc2RUUvd2FuZ3lpeXVuLWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovXHU0RTUwXHU0RTUwXHU4QkZFXHU0RUY2L1x1OTc2Mlx1OEJENVx1OTg5OC92dWVcdTRFRkZcdTdGNTFcdTY2MTNcdTRFOTFcdTc5RkJcdTUyQThcdTdBRUZcdTk4NzlcdTc2RUUvXHU3RjUxXHU2NjEzXHU0RTkxXHU3OUZCXHU1MkE4XHU3QUVGXHU5ODc5XHU3NkVFL3dhbmd5aXl1bi1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyBnZXRTZWFyY2hNdXNpYyB9IGZyb20gIkAvcmVxdWVzdC9hcGkvaG9tZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAga2V5V29ybGRMaXN0OiBbXSwKICAgICAgc2VhcmNoS2V5OiAiIiwKICAgICAgc2VhcmNoTGlzdDogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5rZXlXb3JsZExpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJrZXlXb3JsZExpc3QiKSkgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJrZXlXb3JsZExpc3QiKSkgOiBbXTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGVudGVyS2V5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZW50ZXJLZXkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnNlYXJjaEtleSAhPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5rZXlXb3JsZExpc3QudW5zaGlmdCh0aGlzLnNlYXJjaEtleSk7IC8vICAg5Y676YeNCgogICAgICAgICAgICAgICAgdGhpcy5rZXlXb3JsZExpc3QgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh0aGlzLmtleVdvcmxkTGlzdCkpOyAvLyDlm7rlrprplb/luqYKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5rZXlXb3JsZExpc3QubGVuZ3RoID4gMTApIHsKICAgICAgICAgICAgICAgICAgdGhpcy5rZXlXb3JsZExpc3Quc3BsaWNlKHRoaXMua2V5V29ybGRMaXN0Lmxlbmd0aCAtIDEsIDEpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJrZXlXb3JsZExpc3QiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmtleVdvcmxkTGlzdCkpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U2VhcmNoTXVzaWModGhpcy5zZWFyY2hLZXkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoTGlzdCA9IHJlcy5kYXRhLnJlc3VsdC5zb25nczsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoS2V5ID0gIiI7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZW50ZXJLZXkoKSB7CiAgICAgICAgcmV0dXJuIF9lbnRlcktleS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZW50ZXJLZXk7CiAgICB9KCksCiAgICBkZWxIaXN0b3J5OiBmdW5jdGlvbiBkZWxIaXN0b3J5KCkgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgia2V5V29ybGRMaXN0Iik7CiAgICAgIHRoaXMua2V5V29ybGRMaXN0ID0gW107CiAgICB9LAogICAgc2VhcmNoSGlzdG9yeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NlYXJjaEhpc3RvcnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGl0ZW0pIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U2VhcmNoTXVzaWMoaXRlbSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hMaXN0ID0gcmVzLmRhdGEucmVzdWx0LnNvbmdzOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzZWFyY2hIaXN0b3J5KF94KSB7CiAgICAgICAgcmV0dXJuIF9zZWFyY2hIaXN0b3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZWFyY2hIaXN0b3J5OwogICAgfSgpLAogICAgdXBkYXRlSW5kZXg6IGZ1bmN0aW9uIHVwZGF0ZUluZGV4KGl0ZW0pIHsKICAgICAgaXRlbS5hbCA9IGl0ZW0uYWxidW07CiAgICAgIGl0ZW0uYWwucGljVXJsID0gaXRlbS5hbGJ1bS5hcnRpc3QuaW1nMXYxVXJsOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInB1c2hQbGF5TGlzdCIsIGl0ZW0pOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInVwZGF0ZVBsYXlMaXN0SW5kZXgiLCB0aGlzLiRzdG9yZS5zdGF0ZS5wbGF5TGlzdC5sZW5ndGggLSAxKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;AAiDA,SAASA,cAAT,QAA+B,uBAA/B;AACA,eAAe;AACbC,MADa,kBACN;AACL,WAAO;AACLC,kBAAY,EAAE,EADT;AAELC,eAAS,EAAE,EAFN;AAGLC,gBAAU,EAAE;AAHP,KAAP;AAKD,GAPY;AAQbC,SARa,qBAQH;AACR,SAAKH,YAAL,GAAoBI,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,IAChBH,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,CADgB,GAEhB,EAFJ;AAGD,GAZY;AAabC,SAAO,EAAE;AACPC,YAAQ;AAAA,8EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACJ,KAAKR,SAAL,KAAmB,EADf;AAAA;AAAA;AAAA;;AAEN,qBAAKD,YAAL,CAAkBU,OAAlB,CAA0B,KAAKT,SAA/B,EAFM,CAGN;;AACA,qBAAKD,YAAL,sBAAwB,IAAIW,GAAJ,CAAQ,KAAKX,YAAb,CAAxB,EAJM,CAKN;;AACA,oBAAI,KAAKA,YAAL,CAAkBY,MAAlB,GAA2B,EAA/B,EAAmC;AACjC,uBAAKZ,YAAL,CAAkBa,MAAlB,CAAyB,KAAKb,YAAL,CAAkBY,MAAlB,GAA2B,CAApD,EAAuD,CAAvD;AACF;;AACAN,4BAAY,CAACQ,OAAb,CAAqB,cAArB,EAAqCV,IAAI,CAACW,SAAL,CAAe,KAAKf,YAApB,CAArC;AATM;AAAA,uBAUUF,cAAc,CAAC,KAAKG,SAAN,CAVxB;;AAAA;AAUFe,mBAVE;AAWN;AACA,qBAAKd,UAAL,GAAkBc,GAAG,CAACjB,IAAJ,CAASkB,MAAT,CAAgBC,KAAlC;AACA,qBAAKjB,SAAL,GAAiB,EAAjB;;AAbM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADD;AAiBPkB,cAAU,EAAE,sBAAY;AACtBb,kBAAY,CAACc,UAAb,CAAwB,cAAxB;AACA,WAAKpB,YAAL,GAAoB,EAApB;AACD,KApBM;AAqBPqB,iBAAa;AAAA,mFAAC,kBAAgBC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACIxB,cAAc,CAACwB,IAAD,CADlB;;AAAA;AACRN,mBADQ;AAEd;AACE,qBAAKd,UAAL,GAAkBc,GAAG,CAACjB,IAAJ,CAASkB,MAAT,CAAgBC,KAAlC;;AAHY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAD;;AAAA;AAAA;AAAA;;AAAA;AAAA,OArBN;AA0BPK,eAAW,EAAC,qBAASD,IAAT,EAAc;AACtBA,UAAI,CAACE,EAAL,GAAQF,IAAI,CAACG,KAAb;AACAH,UAAI,CAACE,EAAL,CAAQE,MAAR,GAAeJ,IAAI,CAACG,KAAL,CAAWE,MAAX,CAAkBC,SAAjC;AACA,WAAKC,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAkCR,IAAlC;AACA,WAAKO,MAAL,CAAYC,MAAZ,CAAmB,qBAAnB,EAAyC,KAAKD,MAAL,CAAYE,KAAZ,CAAkBC,QAAlB,CAA2BpB,MAA3B,GAAkC,CAA3E;AAEJ;AAhCO;AAbI,CAAf","names":["getSearchMusic","data","keyWorldList","searchKey","searchList","mounted","JSON","parse","localStorage","getItem","methods","enterKey","unshift","Set","length","splice","setItem","stringify","res","result","songs","delHistory","removeItem","searchHistory","item","updateIndex","al","album","picUrl","artist","img1v1Url","$store","commit","state","playList"],"sourceRoot":"","sources":["D:\\乐乐课件\\面试题\\vue仿网易云移动端项目\\网易云移动端项目\\wangyiyun-app\\src\\views\\Search.vue"],"sourcesContent":["<template>\r\n  <div class=\"searchTop\">\r\n    <svg class=\"icon\" aria-hidden=\"true\" @click=\"$router.go(-1)\">\r\n      <use xlink:href=\"#icon-zuojiantou\"></use>\r\n    </svg>\r\n    <input\r\n      type=\"text\"\r\n      placeholder=\"陈奕迅\"\r\n      v-model=\"searchKey\"\r\n      @keydown.enter=\"enterKey\"\r\n    />\r\n  </div>\r\n  <div class=\"searchHistory\">\r\n    <span class=\"searchSpan\">历史</span>\r\n    <span\r\n      v-for=\"item in keyWorldList\"\r\n      :key=\"item\"\r\n      class=\"spanKey\"\r\n      @click=\"searchHistory(item)\"\r\n    >\r\n      {{ item }}\r\n    </span>\r\n    <svg class=\"icon\" aria-hidden=\"true\" @click=\"delHistory\">\r\n      <use xlink:href=\"#icon-shanchu\"></use>\r\n    </svg>\r\n  </div>\r\n     <div class=\"itemList\">\r\n      <div class=\"item\" v-for=\"(item, i) in searchList\" :key=\"i\">\r\n        <div class=\"itemLeft\" @click=\"updateIndex(item)\">\r\n          <span class=\"leftSpan\">{{ i + 1 }}</span>\r\n          <div>\r\n            <p>{{ item.name }}</p>\r\n            <span v-for=\"(item1, index) in item.artists\" :key=\"index\">{{\r\n              item1.name\r\n            }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"itemRight\">\r\n          <svg class=\"icon bofang\" aria-hidden=\"true\" v-if='item.mvid !=0'>\r\n            <use xlink:href=\"#icon-shipin\"></use>\r\n          </svg>\r\n          <svg class=\"icon liebiao\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-31liebiao\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { getSearchMusic } from \"@/request/api/home.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      keyWorldList: [],\r\n      searchKey: \"\",\r\n      searchList: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.keyWorldList = JSON.parse(localStorage.getItem(\"keyWorldList\"))\r\n      ? JSON.parse(localStorage.getItem(\"keyWorldList\"))\r\n      : [];\r\n  },\r\n  methods: {\r\n    enterKey: async function () {\r\n      if (this.searchKey !== \"\") {\r\n        this.keyWorldList.unshift(this.searchKey);\r\n        //   去重\r\n        this.keyWorldList = [...new Set(this.keyWorldList)];\r\n        // 固定长度\r\n        if (this.keyWorldList.length > 10) {\r\n          this.keyWorldList.splice(this.keyWorldList.length - 1, 1);\r\n        }\r\n        localStorage.setItem(\"keyWorldList\", JSON.stringify(this.keyWorldList));\r\n        let res = await getSearchMusic(this.searchKey);\r\n        // console.log(res);\r\n        this.searchList = res.data.result.songs;\r\n        this.searchKey = \"\";\r\n      }\r\n    },\r\n    delHistory: function () {\r\n      localStorage.removeItem(\"keyWorldList\");\r\n      this.keyWorldList = [];\r\n    },\r\n    searchHistory:async function (item) {\r\n      let res = await getSearchMusic(item);\r\n    //   console.log(res);\r\n      this.searchList = res.data.result.songs;\r\n    },\r\n    updateIndex:function(item){\r\n        item.al=item.album\r\n        item.al.picUrl=item.album.artist.img1v1Url\r\n        this.$store.commit(\"pushPlayList\",item)\r\n        this.$store.commit(\"updatePlayListIndex\",this.$store.state.playList.length-1)\r\n        \r\n    }\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.searchTop {\r\n  width: 100%;\r\n  height: 1rem;\r\n  padding: 0 0.2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  input {\r\n    margin-left: 0.2rem;\r\n    border: none;\r\n    border-bottom: 1px solid #999;\r\n    width: 90%;\r\n    padding: 0.1rem;\r\n  }\r\n}\r\n.searchHistory {\r\n  width: 100%;\r\n  padding: 0.2rem;\r\n  position: relative;\r\n  .searchSpan {\r\n    font-weight: 700;\r\n  }\r\n  .spanKey {\r\n    padding: 0.1rem 0.2rem;\r\n    background-color: rgb(185, 169, 169);\r\n    border-radius: 0.4rem;\r\n    margin: 0.1rem 0.2rem;\r\n    display: inline-block;\r\n  }\r\n  .icon {\r\n    width: 0.3rem;\r\n    height: 0.3rem;\r\n    position: absolute;\r\n    right: 0.2rem;\r\n  }\r\n}\r\n .itemList {\r\n    width: 100%;\r\n    padding: .2rem;\r\n    .item {\r\n      width: 100%;\r\n      height: 1.4rem;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      .itemLeft {\r\n        width: 85%;\r\n        height: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        .leftSpan {\r\n          display: inline-block;\r\n          width: 0.2rem;\r\n          text-align: center;\r\n        }\r\n        div {\r\n          p {\r\n            width: 4.54rem;\r\n            height: .4rem;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n            font-weight: 700;\r\n          }\r\n          span{\r\n            font-weight: 400;\r\n            font-size: .24rem;\r\n            color: #999;\r\n          }\r\n          margin-left: 0.3rem;\r\n        }\r\n      }\r\n      .itemRight{\r\n        width: 20%;\r\n        height: 100%;\r\n        display: flex;\r\n        // justify-content: space-between;\r\n        align-items: center;\r\n        position: relative;\r\n        .icon{\r\n          fill: #999;\r\n        }\r\n         .bofang{\r\n            position: absolute;\r\n            left: 0;\r\n          }\r\n         .liebiao{\r\n            position: absolute;\r\n            right: 0;\r\n          }\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}