{"remainingRequest":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\babel-loader\\lib\\index.js!D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\网易云移动端项目\\wangyiyun-app\\src\\views\\ItemMusic.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\网易云移动端项目\\wangyiyun-app\\src\\views\\ItemMusic.vue","mtime":1649993682655},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\babel.config.js","mtime":1648735123034},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648777011105},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1648777016724},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648777011105},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1648777004982}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1N0Y1MVx1NjYxM1x1NEU5MVx1NzlGQlx1NTJBOFx1N0FFRlx1OTg3OVx1NzZFRS93YW5neWl5dW4tYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCB7IHVzZVJvdXRlIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IG9uTW91bnRlZCwgcmVhY3RpdmUgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBnZXRNdXNpY0l0ZW1MaXN0LCBnZXRJdGVtTGlzdCB9IGZyb20gIkAvcmVxdWVzdC9hcGkvaXRlbS5qcyI7CmltcG9ydCBJdGVtTXVzaWNUb3AgZnJvbSAiQC9jb21wb25lbnRzL2l0ZW0vSXRlbU11c2ljVG9wLnZ1ZSI7CmltcG9ydCBJdGVtTXVzaWNMaXN0IGZyb20gIkAvY29tcG9uZW50cy9pdGVtL0l0ZW1NdXNpY0xpc3QudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgcGxheWxpc3Q6IHt9LAogICAgICAvL+atjOWNleeahOivpuaDhemhteeahOaVsOaNrgogICAgICBpdGVtTGlzdDogW10gLy/mrYzljZXnmoTmrYzmm7IKCiAgICB9KTsKICAgIG9uTW91bnRlZCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGlkLCByZXMsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlkID0gdXNlUm91dGUoKS5xdWVyeS5pZDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpZCk7IC8vICAg6I635Y+W5q2M5Y2V6K+m5oOF6aG1CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBnZXRNdXNpY0l0ZW1MaXN0KGlkKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgc3RhdGUucGxheWxpc3QgPSByZXMuZGF0YS5wbGF5bGlzdDsgLy8gICDojrflj5bmrYzljZXnmoTmrYzmm7IKCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGdldEl0ZW1MaXN0KHsKICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgIGxpbWl0OiAxMCwKICAgICAgICAgICAgICAgIG9mZnNldDogMAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgICBzdGF0ZS5pdGVtTGlzdCA9IHJlc3VsdC5kYXRhLnNvbmdzOyAvLyAgIOmYsuatoumhtemdouWIt+aWsO+8jOaVsOaNruS4ouWkse+8jOWwhuaVsOaNruS/neWtmOWIsHNlc3Npb25TdG9yYWdl5LitCgogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oIml0ZW1EZXRhaWwiLCBKU09OLnN0cmluZ2lmeShzdGF0ZSkpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwogICAgcmV0dXJuIHsKICAgICAgc3RhdGU6IHN0YXRlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgSXRlbU11c2ljVG9wOiBJdGVtTXVzaWNUb3AsCiAgICBJdGVtTXVzaWNMaXN0OiBJdGVtTXVzaWNMaXN0CiAgfQp9Ow=="},{"version":3,"mappings":";;;AAQA,SAASA,QAAT,QAAyB,YAAzB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,KAApC;AACA,SAASC,gBAAT,EAA2BC,WAA3B,QAA8C,uBAA9C;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AACA,eAAe;AACbC,OADa,mBACL;AACN,QAAMC,KAAI,GAAIN,QAAQ,CAAC;AACrBO,cAAQ,EAAE,EADW;AACP;AACdC,cAAQ,EAAE,EAFW,CAEP;;AAFO,KAAD,CAAtB;AAIAT,aAAS,uEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACJU,gBADI,GACCX,QAAQ,GAAGY,KAAX,CAAiBD,EADlB;AAERE,qBAAO,CAACC,GAAR,CAAYH,EAAZ,EAFQ,CAGR;;AAHQ;AAAA,qBAIQR,gBAAgB,CAACQ,EAAD,CAJxB;;AAAA;AAIJI,iBAJI;AAKRF,qBAAO,CAACC,GAAR,CAAYC,GAAZ;AACAP,mBAAK,CAACC,QAAN,GAAiBM,GAAG,CAACC,IAAJ,CAASP,QAA1B,CANQ,CAOR;;AAPQ;AAAA,qBAQWL,WAAW,CAAC;AAAEO,kBAAE,EAAFA,EAAF;AAAMM,qBAAK,EAAE,EAAb;AAAiBC,sBAAM,EAAE;AAAzB,eAAD,CARtB;;AAAA;AAQJC,oBARI;AASRN,qBAAO,CAACC,GAAR,CAAYK,MAAZ;AACAX,mBAAK,CAACE,QAAN,GAAiBS,MAAM,CAACH,IAAP,CAAYI,KAA7B,CAVQ,CAYR;;AACAC,4BAAc,CAACC,OAAf,CAAuB,YAAvB,EAAqCC,IAAI,CAACC,SAAL,CAAehB,KAAf,CAArC;;AAbQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;AAeA,WAAO;AAAEA,WAAI,EAAJA;AAAF,KAAP;AACD,GAtBY;AAuBbiB,YAAU,EAAE;AACVpB,gBAAY,EAAZA,YADU;AAEVC,iBAAa,EAAbA;AAFU;AAvBC,CAAf","names":["useRoute","onMounted","reactive","getMusicItemList","getItemList","ItemMusicTop","ItemMusicList","setup","state","playlist","itemList","id","query","console","log","res","data","limit","offset","result","songs","sessionStorage","setItem","JSON","stringify","components"],"sourceRoot":"","sources":["D:\\网易云移动端项目\\wangyiyun-app\\src\\views\\ItemMusic.vue"],"sourcesContent":["<template>\r\n  <ItemMusicTop :playlist=\"state.playlist\" />\r\n  <ItemMusicList\r\n    :itemList=\"state.itemList\"\r\n    :subscribedCount=\"state.playlist.subscribedCount\"\r\n  />\r\n</template>\r\n<script>\r\nimport { useRoute } from \"vue-router\";\r\nimport { onMounted, reactive } from \"vue\";\r\nimport { getMusicItemList, getItemList } from \"@/request/api/item.js\";\r\nimport ItemMusicTop from \"@/components/item/ItemMusicTop.vue\";\r\nimport ItemMusicList from \"@/components/item/ItemMusicList.vue\";\r\nexport default {\r\n  setup() {\r\n    const state = reactive({\r\n      playlist: {}, //歌单的详情页的数据\r\n      itemList: [], //歌单的歌曲\r\n    });\r\n    onMounted(async () => {\r\n      let id = useRoute().query.id;\r\n      console.log(id);\r\n      //   获取歌单详情页\r\n      let res = await getMusicItemList(id);\r\n      console.log(res);\r\n      state.playlist = res.data.playlist;\r\n      //   获取歌单的歌曲\r\n      let result = await getItemList({ id, limit: 10, offset: 0 });\r\n      console.log(result);\r\n      state.itemList = result.data.songs\r\n\r\n      //   防止页面刷新，数据丢失，将数据保存到sessionStorage中\r\n      sessionStorage.setItem(\"itemDetail\", JSON.stringify(state));\r\n    });\r\n    return { state };\r\n  },\r\n  components: {\r\n    ItemMusicTop,\r\n    ItemMusicList,\r\n  },\r\n};\r\n</script>"]}]}