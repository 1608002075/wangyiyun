{"remainingRequest":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\babel-loader\\lib\\index.js!D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\网易云移动端项目\\wangyiyun-app\\src\\components\\item\\FooterMusic.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\网易云移动端项目\\wangyiyun-app\\src\\components\\item\\FooterMusic.vue","mtime":1648735290717},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\babel.config.js","mtime":1648735123034},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648777011105},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1648777016724},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648777011105},{"path":"D:\\网易云移动端项目\\wangyiyun-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1648777004982}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU3RjUxXHU2NjEzXHU0RTkxXHU3OUZCXHU1MkE4XHU3QUVGXHU5ODc5XHU3NkVFL3dhbmd5aXl1bi1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCBNdXNpY0RldGFpbCBmcm9tICJAL2NvbXBvbmVudHMvaXRlbS9NdXNpY0RldGFpbC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGludGVyVmFsOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsicGxheUxpc3QiLCAicGxheUxpc3RJbmRleCIsICJpc2J0blNob3ciLCAiZGV0YWlsU2hvdyJdKSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMpOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldEx5cmljIiwgdGhpcy5wbGF5TGlzdFt0aGlzLnBsYXlMaXN0SW5kZXhdLmlkKTsKICAgIHRoaXMudXBkYXRlVGltZSgpOwogIH0sCiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRMeXJpYyIsIHRoaXMucGxheUxpc3RbdGhpcy5wbGF5TGlzdEluZGV4XS5pZCk7CiAgICB0aGlzLmFkZER1cmF0aW9uKCk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHsKICAgIHBsYXk6IGZ1bmN0aW9uIHBsYXkoKSB7CiAgICAgIC8vIOWIpOaWremfs+S5kOaYr+WQpuaSreaUvgogICAgICBpZiAodGhpcy4kcmVmcy5hdWRpby5wYXVzZWQpIHsKICAgICAgICB0aGlzLiRyZWZzLmF1ZGlvLnBsYXkoKTsKICAgICAgICB0aGlzLnVwZGF0ZUlzYnRuU2hvdyhmYWxzZSk7CiAgICAgICAgdGhpcy51cGRhdGVUaW1lKCk7IC8v5pKt5pS+5bCx6LCD55So5Ye95pWw6L+b6KGM5Lyg5YC8CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5hdWRpby5wYXVzZSgpOwogICAgICAgIHRoaXMudXBkYXRlSXNidG5TaG93KHRydWUpOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlclZhbCk7IC8v5pqC5YGc5riF6Zmk5a6a5pe25ZmoCiAgICAgIH0KICAgIH0sCiAgICBhZGREdXJhdGlvbjogZnVuY3Rpb24gYWRkRHVyYXRpb24oKSB7CiAgICAgIHRoaXMudXBkYXRlRHVyYXRpb24odGhpcy4kcmVmcy5hdWRpby5kdXJhdGlvbik7CiAgICB9LAogICAgdXBkYXRlVGltZTogZnVuY3Rpb24gdXBkYXRlVGltZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuaW50ZXJWYWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMudXBkYXRlQ3VycmVudFRpbWUoX3RoaXMuJHJlZnMuYXVkaW8uY3VycmVudFRpbWUpOwogICAgICB9LCAxMDAwKTsKICAgIH0KICB9LCBtYXBNdXRhdGlvbnMoWyJ1cGRhdGVJc2J0blNob3ciLCAidXBkYXRlRGV0YWlsU2hvdyIsICJ1cGRhdGVDdXJyZW50VGltZSIsICJ1cGRhdGVEdXJhdGlvbiJdKSksCiAgd2F0Y2g6IHsKICAgIHBsYXlMaXN0SW5kZXg6IGZ1bmN0aW9uIHBsYXlMaXN0SW5kZXgoKSB7CiAgICAgIC8v55uR5ZCs5aaC5p6c5LiL5qCH5Y+R55Sf5LqG5pS55Y+Y77yM5bCx6Ieq5Yqo5pKt5pS+6Z+z5LmQCiAgICAgIHRoaXMuJHJlZnMuYXVkaW8uYXV0b3BsYXkgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMuJHJlZnMuYXVkaW8ucGF1c2VkKSB7CiAgICAgICAgLy/lpoLmnpzmmK/mmoLlgZznirbmgIHvvIzmlLnlj5jlm77moIcKICAgICAgICB0aGlzLnVwZGF0ZUlzYnRuU2hvdyhmYWxzZSk7CiAgICAgIH0KICAgIH0sCiAgICBwbGF5TGlzdDogZnVuY3Rpb24gcGxheUxpc3QoKSB7CiAgICAgIGlmICh0aGlzLmlzYnRuU2hvdykgewogICAgICAgIHRoaXMuJHJlZnMuYXVkaW8uYXV0b3BsYXkgPSB0cnVlOwogICAgICAgIHRoaXMudXBkYXRlSXNidG5TaG93KGZhbHNlKTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgTXVzaWNEZXRhaWw6IE11c2ljRGV0YWlsCiAgfQp9Ow=="},{"version":3,"mappings":";AA4CA,SAASA,YAAT,EAAuBC,QAAvB,QAAuC,MAAvC;AACA,OAAOC,WAAP,MAAwB,mCAAxB;AACA,eAAe;AACbC,MADa,kBACN;AACL,WAAO;AACLC,cAAQ,EAAE;AADL,KAAP;AAGD,GALY;AAMbC,UAAQ,oBACHJ,QAAQ,CAAC,CAAC,UAAD,EAAa,eAAb,EAA8B,WAA9B,EAA2C,YAA3C,CAAD,CADL,CANK;AASbK,SATa,qBASH;AACNC,WAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACA,SAAKC,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiC,KAAKC,QAAL,CAAc,KAAKC,aAAnB,EAAkCC,EAAnE;AACA,SAAKC,UAAL;AACH,GAbY;AAcbC,SAda,qBAcH;AACR,SAAKN,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiC,KAAKC,QAAL,CAAc,KAAKC,aAAnB,EAAkCC,EAAnE;AACA,SAAKG,WAAL;AACD,GAjBY;AAkBbC,SAAO;AACLC,QAAI,EAAE,gBAAY;AAChB;AACA,UAAI,KAAKV,KAAL,CAAWW,KAAX,CAAiBC,MAArB,EAA6B;AAC3B,aAAKZ,KAAL,CAAWW,KAAX,CAAiBD,IAAjB;AACA,aAAKG,eAAL,CAAqB,KAArB;AACA,aAAKP,UAAL,GAH2B,CAGR;AACrB,OAJA,MAIO;AACL,aAAKN,KAAL,CAAWW,KAAX,CAAiBG,KAAjB;AACA,aAAKD,eAAL,CAAqB,IAArB;AACAE,qBAAa,CAAC,KAAKpB,QAAN,CAAb,CAHK,CAGyB;AAChC;AACD,KAZI;AAaLa,eAAW,EAAC,uBAAU;AACpB,WAAKQ,cAAL,CAAoB,KAAKhB,KAAL,CAAWW,KAAX,CAAiBM,QAArC;AACD,KAfI;AAgBLX,cAAU,EAAE,sBAAY;AAAA;;AACtB,WAAKX,QAAL,GAAgBuB,WAAW,CAAC,YAAM;AAChC,aAAI,CAACC,iBAAL,CAAuB,KAAI,CAACnB,KAAL,CAAWW,KAAX,CAAiBS,WAAxC;AACD,OAF0B,EAExB,IAFwB,CAA3B;AAGD;AApBI,KAqBF7B,YAAY,CAAC,CACd,iBADc,EAEd,kBAFc,EAGd,mBAHc,EAId,gBAJc,CAAD,CArBV,CAlBM;AA8Cb8B,OAAK,EAAE;AACLjB,iBAAa,EAAE,yBAAY;AACzB;AACA,WAAKJ,KAAL,CAAWW,KAAX,CAAiBW,QAAjB,GAA4B,IAA5B;;AACA,UAAI,KAAKtB,KAAL,CAAWW,KAAX,CAAiBC,MAArB,EAA6B;AAC3B;AACA,aAAKC,eAAL,CAAqB,KAArB;AACF;AACD,KARI;AASLV,YAAQ,EAAE,oBAAY;AACpB,UAAI,KAAKoB,SAAT,EAAoB;AAClB,aAAKvB,KAAL,CAAWW,KAAX,CAAiBW,QAAjB,GAA4B,IAA5B;AACA,aAAKT,eAAL,CAAqB,KAArB;AACF;AACD;AAdI,GA9CM;AA8DbW,YAAU,EAAE;AACV/B,eAAW,EAAXA;AADU;AA9DC,CAAf","names":["mapMutations","mapState","MusicDetail","data","interVal","computed","mounted","console","log","$refs","$store","dispatch","playList","playListIndex","id","updateTime","updated","addDuration","methods","play","audio","paused","updateIsbtnShow","pause","clearInterval","updateDuration","duration","setInterval","updateCurrentTime","currentTime","watch","autoplay","isbtnShow","components"],"sourceRoot":"","sources":["D:\\网易云移动端项目\\wangyiyun-app\\src\\components\\item\\FooterMusic.vue"],"sourcesContent":["<template>\r\n  <div class=\"FooterMusic\">\r\n    <div class=\"footerLeft\" @click=\"updateDetailShow\">\r\n      <img :src=\"playList[playListIndex].al.picUrl\" alt=\"\" />\r\n      <div>\r\n        <p>{{ playList[playListIndex].name }}</p>\r\n        <span>横滑切换上下首哦</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"footerRight\">\r\n      <svg\r\n        class=\"icon liebiao\"\r\n        aria-hidden=\"true\"\r\n        @click=\"play\"\r\n        v-if=\"isbtnShow\"\r\n      >\r\n        <use xlink:href=\"#icon-bofanganniu\"></use>\r\n      </svg>\r\n      <svg class=\"icon liebiao\" aria-hidden=\"true\" @click=\"play\" v-else>\r\n        <use xlink:href=\"#icon-weibiaoti--\"></use>\r\n      </svg>\r\n      <svg class=\"icon liebiao\" aria-hidden=\"true\">\r\n        <use xlink:href=\"#icon-zu\"></use>\r\n      </svg>\r\n    </div>\r\n    <audio\r\n      ref=\"audio\"\r\n      :src=\"`https://music.163.com/song/media/outer/url?id=${playList[playListIndex].id}.mp3`\"\r\n    ></audio>\r\n    <van-popup\r\n      v-model:show=\"detailShow\"\r\n      position=\"right\"\r\n      :style=\"{ height: '100%', width: '100%' }\"\r\n    >\r\n      <MusicDetail\r\n        :musicList=\"playList[playListIndex]\"\r\n        :play=\"play\"\r\n        :isbtnShow=\"isbtnShow\"\r\n        :addDuration=\"addDuration\"\r\n      />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport MusicDetail from \"@/components/item/MusicDetail.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      interVal: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"playList\", \"playListIndex\", \"isbtnShow\", \"detailShow\"]),\r\n  },\r\n  mounted() {\r\n      console.log(this.$refs);\r\n      this.$store.dispatch(\"getLyric\", this.playList[this.playListIndex].id);\r\n      this.updateTime()\r\n  },\r\n  updated() {\r\n    this.$store.dispatch(\"getLyric\", this.playList[this.playListIndex].id);\r\n    this.addDuration()\r\n  },\r\n  methods: {\r\n    play: function () {\r\n      // 判断音乐是否播放\r\n      if (this.$refs.audio.paused) {\r\n        this.$refs.audio.play();\r\n        this.updateIsbtnShow(false);\r\n        this.updateTime(); //播放就调用函数进行传值\r\n      } else {\r\n        this.$refs.audio.pause();\r\n        this.updateIsbtnShow(true);\r\n        clearInterval(this.interVal); //暂停清除定时器\r\n      }\r\n    },\r\n    addDuration:function(){\r\n      this.updateDuration(this.$refs.audio.duration)\r\n    },\r\n    updateTime: function () {\r\n      this.interVal = setInterval(() => {\r\n        this.updateCurrentTime(this.$refs.audio.currentTime);\r\n      }, 1000);\r\n    },\r\n    ...mapMutations([\r\n      \"updateIsbtnShow\",\r\n      \"updateDetailShow\",\r\n      \"updateCurrentTime\",\r\n      \"updateDuration\"\r\n    ]),\r\n  },\r\n  watch: {\r\n    playListIndex: function () {\r\n      //监听如果下标发生了改变，就自动播放音乐\r\n      this.$refs.audio.autoplay = true;\r\n      if (this.$refs.audio.paused) {\r\n        //如果是暂停状态，改变图标\r\n        this.updateIsbtnShow(false);\r\n      }\r\n    },\r\n    playList: function () {\r\n      if (this.isbtnShow) {\r\n        this.$refs.audio.autoplay = true;\r\n        this.updateIsbtnShow(false);\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    MusicDetail,\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.FooterMusic {\r\n  width: 100%;\r\n  height: 1.4rem;\r\n  background-color: #fff;\r\n  position: fixed;\r\n  bottom: 0;\r\n  border-top: 1px solid #999;\r\n  display: flex;\r\n  padding: 0.2rem;\r\n  justify-content: space-between;\r\n  .footerLeft {\r\n    width: 60%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    img {\r\n      width: 1rem;\r\n      height: 1rem;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n  .footerRight {\r\n    width: 20%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .icon {\r\n      width: 0.6rem;\r\n      height: 0.6rem;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}